extends layout

block content
  h1
    if isSingle
      | Galaxy Detail
    else
      | Search Results - Galaxies

  .container-fluid
    .row
      // Check if results exist and iterate through them
      if results && results.length > 0
        each galaxy in results
          .col-sm-3.mb-4
            .card(style="cursor: pointer;")
              .card-body
                h5.card-title #{galaxy.name}
                p.card-text Year: #{galaxy.year}
                p.card-text Inventor: #{galaxy.inventor}
                p.card-text Distance: #{galaxy.distance} light-years
                p.card-text Type: #{galaxy.type}

                // Update button with confirmation
                if galaxy._id
                  a.btn.btn-primary.mt-2(href=`javascript:void(0);` onclick=`confirmUpdate('${galaxy._id}')` title="Update Galaxy" aria-label="Update Galaxy") Update
      else
        .col-12
          p No galaxies found.

  // Back to Home link with Bootstrap styling
  .mt-4
    a.btn.btn-primary(href='/') Back to Home

  // Optional: Hover effect for the clickable cards
  style.
    .card:hover {
      transform: scale(1.05);
      transition: transform 0.3s ease;

  // Script for confirmation
  script.
    function confirmUpdate(id) {
      if (confirm("Do you want to update this galaxy?")) {
        window.location.href = `/update?id=${id}`;
      }
    }
